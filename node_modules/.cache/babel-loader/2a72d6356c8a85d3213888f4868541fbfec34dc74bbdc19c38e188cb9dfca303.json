{"ast":null,"code":"import React,{useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const OrderCard=_ref=>{let{order,updateStatus,compact}=_ref;const[showStatusChange,setShowStatusChange]=useState(false);const[previousStatus,setPreviousStatus]=useState(null);const getStatusInfo=status=>{switch(status){case'pending':return{text:'Čeká na přípravu',class:'pending'};case'ready':return{text:'Připraveno\\nk platbě',class:'ready'};case'paid':return{text:'Zaplaceno',class:'paid'};default:return{text:status,class:''};}};const statusInfo=getStatusInfo(order.status);const total=order.items.reduce((sum,item)=>sum+item.price,0);const handleStatusChange=newStatus=>{setPreviousStatus(order.status);setShowStatusChange(true);updateStatus(order.id,newStatus);};const handleRevertStatus=()=>{if(previousStatus){updateStatus(order.id,previousStatus);setShowStatusChange(false);setPreviousStatus(null);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"order-card \".concat(compact?'compact':''),role:\"article\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Objedn\\xE1vka #\",order.id.toString().slice(-4)]}),!compact&&/*#__PURE__*/_jsx(\"div\",{className:\"table-info\",role:\"status\",children:order.tableName})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-status\",children:showStatusChange?/*#__PURE__*/_jsxs(\"div\",{className:\"status-change\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(statusInfo.class),role:\"status\",\"aria-label\":\"Stav objedn\\xE1vky: \".concat(statusInfo.text),children:statusInfo.text}),/*#__PURE__*/_jsx(\"button\",{className:\"revert-btn\",onClick:handleRevertStatus,\"aria-label\":\"Vr\\xE1tit p\\u0159edchoz\\xED stav\",children:\"\\u21A9\"})]}):/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(statusInfo.class),role:\"status\",\"aria-label\":\"Stav objedn\\xE1vky: \".concat(statusInfo.text),children:statusInfo.text})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-items\",role:\"list\",children:order.items.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-item\",role:\"listitem\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsxs(\"span\",{\"aria-label\":\"\".concat(item.price,\" K\\u010D\"),children:[item.price,\" K\\u010D\"]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-total\",role:\"status\",children:[\"Celkem: \",/*#__PURE__*/_jsxs(\"span\",{\"aria-label\":\"Celkov\\xE1 \\u010D\\xE1stka \".concat(total,\" K\\u010D\"),children:[total,\" K\\u010D\"]})]}),!compact&&updateStatus&&/*#__PURE__*/_jsx(\"div\",{className:\"order-actions\",children:order.status==='pending'&&/*#__PURE__*/_jsx(\"button\",{className:\"ready-btn\",onClick:()=>handleStatusChange('ready'),\"aria-label\":\"Ozna\\u010Dit objedn\\xE1vku jako p\\u0159ipravenou\",children:\"Ozna\\u010Dit jako p\\u0159ipraven\\xE9\"})})]})]});};export default OrderCard;","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","OrderCard","_ref","order","updateStatus","compact","showStatusChange","setShowStatusChange","previousStatus","setPreviousStatus","getStatusInfo","status","text","class","statusInfo","total","items","reduce","sum","item","price","handleStatusChange","newStatus","id","handleRevertStatus","className","concat","role","children","toString","slice","tableName","onClick","map","index","name"],"sources":["C:/Users/dinhp/Desktop/SIT/KAJ/src/components/OrderCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst OrderCard = ({ order, updateStatus, compact }) => {\n  const [showStatusChange, setShowStatusChange] = useState(false);\n  const [previousStatus, setPreviousStatus] = useState(null);\n\n  const getStatusInfo = (status) => {\n    switch(status) {\n      case 'pending':\n        return { text: 'Čeká na přípravu', class: 'pending' };\n      case 'ready':\n        return { text: 'Připraveno\\nk platbě', class: 'ready' };\n      case 'paid':\n        return { text: 'Zaplaceno', class: 'paid' };\n      default:\n        return { text: status, class: '' };\n    }\n  };\n\n  const statusInfo = getStatusInfo(order.status);\n  const total = order.items.reduce((sum, item) => sum + item.price, 0);\n\n  const handleStatusChange = (newStatus) => {\n    setPreviousStatus(order.status);\n    setShowStatusChange(true);\n    updateStatus(order.id, newStatus);\n  };\n\n  const handleRevertStatus = () => {\n    if (previousStatus) {\n      updateStatus(order.id, previousStatus);\n      setShowStatusChange(false);\n      setPreviousStatus(null);\n    }\n  };\n\n  return (\n    <div className={`order-card ${compact ? 'compact' : ''}`} role=\"article\">\n      <div className=\"order-header\">\n        <div>\n          <h3>Objednávka #{order.id.toString().slice(-4)}</h3>\n          {!compact && <div className=\"table-info\" role=\"status\">{order.tableName}</div>}\n        </div>\n        <div className=\"order-status\">\n          {showStatusChange ? (\n            <div className=\"status-change\">\n              <span \n                className={`status-badge ${statusInfo.class}`}\n                role=\"status\"\n                aria-label={`Stav objednávky: ${statusInfo.text}`}\n              >\n                {statusInfo.text}\n              </span>\n              <button \n                className=\"revert-btn\"\n                onClick={handleRevertStatus}\n                aria-label=\"Vrátit předchozí stav\"\n              >\n                ↩\n              </button>\n            </div>\n          ) : (\n            <span \n              className={`status-badge ${statusInfo.class}`}\n              role=\"status\"\n              aria-label={`Stav objednávky: ${statusInfo.text}`}\n            >\n              {statusInfo.text}\n            </span>\n          )}\n        </div>\n      </div>\n      \n      <div className=\"order-items\" role=\"list\">\n        {order.items.map((item, index) => (\n          <div key={index} className=\"order-item\" role=\"listitem\">\n            <span>{item.name}</span>\n            <span aria-label={`${item.price} Kč`}>{item.price} Kč</span>\n          </div>\n        ))}\n      </div>\n      \n      <div className=\"order-footer\">\n        <div className=\"order-total\" role=\"status\">\n          Celkem: <span aria-label={`Celková částka ${total} Kč`}>{total} Kč</span>\n        </div>\n        \n        {!compact && updateStatus && (\n          <div className=\"order-actions\">\n            {order.status === 'pending' && (\n              <button \n                className=\"ready-btn\"\n                onClick={() => handleStatusChange('ready')}\n                aria-label=\"Označit objednávku jako připravenou\"\n              >\n                Označit jako připravené\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default OrderCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}