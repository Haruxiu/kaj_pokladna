{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dinhp\\\\Desktop\\\\SIT\\\\KAJ\\\\src\\\\components\\\\MenuManagement.jsx\";\nimport React from 'react';\nimport useLocalStorage from '../hooks/useLocalStorage';\n\n// Receive menuItems, setMenuItems, nextItemId, setNextItemId as props\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MenuManagement extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formData: {\n        name: '',\n        price: '',\n        category: 'main'\n      },\n      editingId: null,\n      deleteConfirmId: null,\n      selectedCategory: 'all',\n      newCategoryName: '',\n      showCategoryForm: false,\n      showCategoryModal: false,\n      editingCategories: []\n    };\n    this.formRef = /*#__PURE__*/React.createRef();\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.editItem = this.editItem.bind(this);\n    this.requestDeleteItem = this.requestDeleteItem.bind(this);\n    this.confirmDelete = this.confirmDelete.bind(this);\n    this.cancelDelete = this.cancelDelete.bind(this);\n    this.handleAddCategory = this.handleAddCategory.bind(this);\n    this.openCategoryModal = this.openCategoryModal.bind(this);\n    this.handleCategoryChange = this.handleCategoryChange.bind(this);\n    this.handleDeleteCategory = this.handleDeleteCategory.bind(this);\n    this.handleSaveCategories = this.handleSaveCategories.bind(this);\n    this.getCategoryDisplayName = this.getCategoryDisplayName.bind(this);\n  }\n  componentDidMount() {\n    // Initialize editingCategories state from prop when modal is opened, not here\n    // The useEffect for initializing customCategories is handled in App now.\n  }\n  getGroupedMenuItems() {\n    const {\n      menuItems,\n      customCategories\n    } = this.props;\n    const grouped = menuItems.reduce((acc, item) => {\n      if (!acc[item.category]) {\n        acc[item.category] = [];\n      }\n      acc[item.category].push(item);\n      return acc;\n    }, {});\n    const categoryOrder = ['main', 'drink', 'dessert', ...customCategories];\n    return categoryOrder.filter(category => grouped[category]).map(category => ({\n      category,\n      items: grouped[category]\n    }));\n  }\n  getFilteredMenuItems() {\n    const {\n      menuItems\n    } = this.props;\n    const {\n      selectedCategory\n    } = this.state;\n    if (selectedCategory === 'all') {\n      return menuItems;\n    }\n    return menuItems.filter(item => item.category === selectedCategory);\n  }\n  handleInputChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState(prevState => ({\n      formData: {\n        ...prevState.formData,\n        [name]: name === 'price' ? parseFloat(value) || '' : value\n      }\n    }));\n  }\n  handleSubmit(e) {\n    e.preventDefault();\n    const {\n      formData,\n      editingId\n    } = this.state;\n    const {\n      menuItems,\n      setMenuItems,\n      nextItemId,\n      setNextItemId\n    } = this.props;\n    if (!formData.name || !formData.price) {\n      alert('Vyplňte všechny údaje!');\n      return;\n    }\n    if (editingId) {\n      setMenuItems(menuItems.map(item => item.id === editingId ? {\n        ...formData,\n        id: editingId\n      } : item));\n      this.setState({\n        editingId: null\n      });\n    } else {\n      const newItem = {\n        ...formData,\n        id: nextItemId\n      };\n      setMenuItems([...menuItems, newItem]);\n      setNextItemId(nextItemId + 1);\n    }\n    this.setState({\n      formData: {\n        name: '',\n        price: '',\n        category: 'main'\n      }\n    });\n  }\n  editItem(id) {\n    const {\n      menuItems\n    } = this.props;\n    const itemToEdit = menuItems.find(item => item.id === id);\n    if (itemToEdit) {\n      var _this$formRef$current;\n      this.setState({\n        formData: {\n          name: itemToEdit.name,\n          price: itemToEdit.price,\n          category: itemToEdit.category\n        },\n        editingId: id\n      });\n      (_this$formRef$current = this.formRef.current) === null || _this$formRef$current === void 0 ? void 0 : _this$formRef$current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  }\n  requestDeleteItem(id) {\n    this.setState({\n      deleteConfirmId: id\n    });\n  }\n  confirmDelete() {\n    const {\n      menuItems,\n      setMenuItems\n    } = this.props;\n    const {\n      deleteConfirmId\n    } = this.state;\n    setMenuItems(menuItems.filter(item => item.id !== deleteConfirmId));\n    this.setState({\n      deleteConfirmId: null\n    });\n  }\n  cancelDelete() {\n    this.setState({\n      deleteConfirmId: null\n    });\n  }\n  handleAddCategory() {\n    const {\n      newCategoryName\n    } = this.state;\n    const {\n      customCategories,\n      setCustomCategories\n    } = this.props;\n    if (newCategoryName.trim()) {\n      if (customCategories.includes(newCategoryName.trim())) {\n        alert('Tato kategorie již existuje!');\n        return;\n      }\n      const updatedCategories = [...customCategories, newCategoryName.trim()];\n      setCustomCategories(updatedCategories);\n      this.setState({\n        newCategoryName: '',\n        showCategoryForm: false\n      });\n    }\n  }\n  openCategoryModal() {\n    this.setState({\n      editingCategories: [...this.props.customCategories],\n      showCategoryModal: true\n    });\n  }\n  handleCategoryChange(index, newName) {\n    this.setState(prevState => {\n      const updatedCategories = [...prevState.editingCategories];\n      updatedCategories[index] = newName;\n      return {\n        editingCategories: updatedCategories\n      };\n    });\n  }\n  handleDeleteCategory(index) {\n    const {\n      editingCategories\n    } = this.state;\n    const {\n      menuItems\n    } = this.props;\n    const categoryToDelete = editingCategories[index];\n    const categoryInUse = menuItems.some(item => item.category === categoryToDelete);\n    if (categoryInUse) {\n      alert('Tuto kategorii nelze smazat, protože je používána v menu!');\n      return;\n    }\n    this.setState(prevState => ({\n      editingCategories: prevState.editingCategories.filter((_, i) => i !== index)\n    }));\n  }\n  handleSaveCategories() {\n    const {\n      editingCategories\n    } = this.state;\n    const {\n      menuItems,\n      setMenuItems,\n      setCustomCategories\n    } = this.props;\n    const uniqueCategories = new Set(editingCategories);\n    if (uniqueCategories.size !== editingCategories.length) {\n      alert('Kategorie nemohou mít stejný název!');\n      return;\n    }\n    const updatedMenuItems = menuItems.map(item => {\n      const oldCategory = item.category;\n      const newCategory = editingCategories.find(cat => cat === oldCategory);\n      return newCategory ? {\n        ...item,\n        category: newCategory\n      } : item;\n    });\n    setMenuItems(updatedMenuItems);\n    setCustomCategories(editingCategories);\n    this.setState({\n      showCategoryModal: false\n    });\n  }\n  getCategoryDisplayName(category) {\n    switch (category) {\n      case 'main':\n        return 'Hlavní jídlo';\n      case 'drink':\n        return 'Nápoj';\n      case 'dessert':\n        return 'Dezert';\n      default:\n        return category;\n    }\n  }\n  render() {\n    const {\n      formData,\n      editingId,\n      deleteConfirmId,\n      selectedCategory,\n      newCategoryName,\n      showCategoryForm,\n      showCategoryModal,\n      editingCategories\n    } = this.state;\n    const {\n      menuItems,\n      customCategories\n    } = this.props;\n    const visuallyHidden = {\n      position: 'absolute',\n      width: '1px',\n      height: '1px',\n      padding: 0,\n      margin: '-1px',\n      overflow: 'hidden',\n      clip: 'rect(0,0,0,0)',\n      border: 0\n    };\n    const groupedMenuItems = this.getGroupedMenuItems();\n    const filteredMenuItems = this.getFilteredMenuItems();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-management\",\n      role: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Spr\\xE1va menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-form card\",\n        ref: this.formRef,\n        role: \"form\",\n        \"aria-label\": editingId ? 'Upravit položku menu' : 'Přidat novou položku do menu',\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: editingId ? 'Upravit položku' : 'Přidat novou položku'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"itemName\",\n              children: \"N\\xE1zev:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"itemName\",\n              name: \"name\",\n              value: formData.name,\n              onChange: this.handleInputChange,\n              required: true,\n              \"aria-label\": \"N\\xE1zev polo\\u017Eky menu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"itemPrice\",\n              children: \"Cena:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: \"itemPrice\",\n              name: \"price\",\n              value: formData.price,\n              onChange: this.handleInputChange,\n              required: true,\n              step: \"0.01\",\n              \"aria-label\": \"Cena polo\\u017Eky v K\\u010D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"itemCategory\",\n              children: \"Kategorie:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"itemCategory\",\n              name: \"category\",\n              value: formData.category,\n              onChange: this.handleInputChange,\n              required: true,\n              \"aria-label\": \"Kategorie polo\\u017Eky menu\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"main\",\n                children: \"Hlavn\\xED j\\xEDdlo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"drink\",\n                children: \"N\\xE1poj\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"dessert\",\n                children: \"Dezert\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), customCategories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: category,\n                children: category\n              }, category, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-btn\",\n            children: editingId ? 'Uložit změny' : 'Přidat položku'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), editingId && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"cancel-btn\",\n            onClick: () => this.setState({\n              editingId: null,\n              formData: {\n                name: '',\n                price: '',\n                category: 'main'\n              }\n            }),\n            children: \"Zru\\u0161it \\xFApravu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-list card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Seznam polo\\u017Eek\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-filter\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `category-btn ${selectedCategory === 'all' ? 'active' : ''}`,\n            onClick: () => this.setState({\n              selectedCategory: 'all'\n            }),\n            children: \"V\\u0161e\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), ['main', 'drink', 'dessert'].map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `category-btn ${selectedCategory === category ? 'active' : ''}`,\n            onClick: () => this.setState({\n              selectedCategory: category\n            }),\n            children: this.getCategoryDisplayName(category)\n          }, category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 16\n          }, this)), customCategories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `category-btn ${selectedCategory === category ? 'active' : ''}`,\n            onClick: () => this.setState({\n              selectedCategory: category\n            }),\n            children: category\n          }, category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 16\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn manage-categories-btn\",\n            onClick: this.openCategoryModal,\n            children: \"Spravovat kategorie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"menu-items\",\n          children: filteredMenuItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"empty-state\",\n            children: \"\\u017D\\xE1dn\\xE9 polo\\u017Eky k zobrazen\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this) : filteredMenuItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"menu-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.price, \" K\\u010D\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"edit-btn\",\n                onClick: () => this.editItem(item.id),\n                children: \"Upravit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-btn\",\n                onClick: () => this.requestDeleteItem(item.id),\n                children: \"Smazat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), deleteConfirmId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Potvrdit smaz\\xE1n\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Opravdu chcete smazat tuto polo\\u017Eku?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-btn\",\n              onClick: this.confirmDelete,\n              children: \"Smazat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cancel-btn\",\n              onClick: this.cancelDelete,\n              children: \"Zru\\u0161it\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }, this), showCategoryModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Spravovat kategorie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"categories-list\",\n            children: [editingCategories.map((category, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category-edit-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: category,\n                onChange: e => this.handleCategoryChange(index, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => this.handleDeleteCategory(index),\n                className: \"delete-btn\",\n                children: \"Smazat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 22\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 20\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category-edit-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Nov\\xE1 kategorie\",\n                value: newCategoryName,\n                onChange: e => this.setState({\n                  newCategoryName: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.handleAddCategory,\n                className: \"add-btn\",\n                children: \"P\\u0159idat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.setState({\n                showCategoryModal: false,\n                newCategoryName: ''\n              }),\n              className: \"cancel-btn\",\n              children: \"Zru\\u0161it\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.handleSaveCategories,\n              className: \"submit-btn\",\n              children: \"Ulo\\u017Eit zm\\u011Bny\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default MenuManagement;","map":{"version":3,"names":["React","useLocalStorage","jsxDEV","_jsxDEV","MenuManagement","Component","constructor","props","state","formData","name","price","category","editingId","deleteConfirmId","selectedCategory","newCategoryName","showCategoryForm","showCategoryModal","editingCategories","formRef","createRef","handleInputChange","bind","handleSubmit","editItem","requestDeleteItem","confirmDelete","cancelDelete","handleAddCategory","openCategoryModal","handleCategoryChange","handleDeleteCategory","handleSaveCategories","getCategoryDisplayName","componentDidMount","getGroupedMenuItems","menuItems","customCategories","grouped","reduce","acc","item","push","categoryOrder","filter","map","items","getFilteredMenuItems","e","value","target","setState","prevState","parseFloat","preventDefault","setMenuItems","nextItemId","setNextItemId","alert","id","newItem","itemToEdit","find","_this$formRef$current","current","scrollIntoView","behavior","block","setCustomCategories","trim","includes","updatedCategories","index","newName","categoryToDelete","categoryInUse","some","_","i","uniqueCategories","Set","size","length","updatedMenuItems","oldCategory","newCategory","cat","render","visuallyHidden","position","width","height","padding","margin","overflow","clip","border","groupedMenuItems","filteredMenuItems","className","role","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onSubmit","htmlFor","type","onChange","required","step","onClick","placeholder"],"sources":["C:/Users/dinhp/Desktop/SIT/KAJ/src/components/MenuManagement.jsx"],"sourcesContent":["import React from 'react';\nimport useLocalStorage from '../hooks/useLocalStorage';\n\n// Receive menuItems, setMenuItems, nextItemId, setNextItemId as props\nclass MenuManagement extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formData: {\n        name: '',\n        price: '',\n        category: 'main'\n      },\n      editingId: null,\n      deleteConfirmId: null,\n      selectedCategory: 'all',\n      newCategoryName: '',\n      showCategoryForm: false,\n      showCategoryModal: false,\n      editingCategories: [],\n    };\n\n    this.formRef = React.createRef();\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.editItem = this.editItem.bind(this);\n    this.requestDeleteItem = this.requestDeleteItem.bind(this);\n    this.confirmDelete = this.confirmDelete.bind(this);\n    this.cancelDelete = this.cancelDelete.bind(this);\n    this.handleAddCategory = this.handleAddCategory.bind(this);\n    this.openCategoryModal = this.openCategoryModal.bind(this);\n    this.handleCategoryChange = this.handleCategoryChange.bind(this);\n    this.handleDeleteCategory = this.handleDeleteCategory.bind(this);\n    this.handleSaveCategories = this.handleSaveCategories.bind(this);\n    this.getCategoryDisplayName = this.getCategoryDisplayName.bind(this);\n  }\n\n  componentDidMount() {\n    // Initialize editingCategories state from prop when modal is opened, not here\n    // The useEffect for initializing customCategories is handled in App now.\n  }\n\n  getGroupedMenuItems() {\n    const { menuItems, customCategories } = this.props;\n    const grouped = menuItems.reduce((acc, item) => {\n      if (!acc[item.category]) {\n        acc[item.category] = [];\n      }\n      acc[item.category].push(item);\n      return acc;\n    }, {});\n\n    const categoryOrder = ['main', 'drink', 'dessert', ...customCategories];\n    return categoryOrder\n      .filter(category => grouped[category])\n      .map(category => ({\n        category,\n        items: grouped[category]\n      }));\n  }\n\n  getFilteredMenuItems() {\n    const { menuItems } = this.props;\n    const { selectedCategory } = this.state;\n    if (selectedCategory === 'all') {\n      return menuItems;\n    }\n    return menuItems.filter(item => item.category === selectedCategory);\n  }\n\n  handleInputChange(e) {\n    const { name, value } = e.target;\n    this.setState(prevState => ({\n      formData: {\n        ...prevState.formData,\n        [name]: name === 'price' ? parseFloat(value) || '' : value\n      }\n    }));\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const { formData, editingId } = this.state;\n    const { menuItems, setMenuItems, nextItemId, setNextItemId } = this.props;\n\n    if (!formData.name || !formData.price) {\n      alert('Vyplňte všechny údaje!');\n      return;\n    }\n\n    if (editingId) {\n      setMenuItems(menuItems.map(item =>\n        item.id === editingId ? { ...formData, id: editingId } : item\n      ));\n      this.setState({ editingId: null });\n    } else {\n      const newItem = { ...formData, id: nextItemId };\n      setMenuItems([...menuItems, newItem]);\n      setNextItemId(nextItemId + 1);\n    }\n\n    this.setState({ formData: { name: '', price: '', category: 'main' } });\n  }\n\n  editItem(id) {\n    const { menuItems } = this.props;\n    const itemToEdit = menuItems.find(item => item.id === id);\n    if (itemToEdit) {\n      this.setState({\n        formData: {\n          name: itemToEdit.name,\n          price: itemToEdit.price,\n          category: itemToEdit.category\n        },\n        editingId: id,\n      });\n      this.formRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  }\n\n  requestDeleteItem(id) {\n    this.setState({ deleteConfirmId: id });\n  }\n\n  confirmDelete() {\n    const { menuItems, setMenuItems } = this.props;\n    const { deleteConfirmId } = this.state;\n    setMenuItems(menuItems.filter(item => item.id !== deleteConfirmId));\n    this.setState({ deleteConfirmId: null });\n  }\n\n  cancelDelete() {\n    this.setState({ deleteConfirmId: null });\n  }\n\n  handleAddCategory() {\n    const { newCategoryName } = this.state;\n    const { customCategories, setCustomCategories } = this.props;\n    if (newCategoryName.trim()) {\n      if (customCategories.includes(newCategoryName.trim())) {\n        alert('Tato kategorie již existuje!');\n        return;\n      }\n      const updatedCategories = [...customCategories, newCategoryName.trim()];\n      setCustomCategories(updatedCategories);\n      this.setState({ newCategoryName: '', showCategoryForm: false });\n    }\n  }\n\n  openCategoryModal() {\n    this.setState({ editingCategories: [...this.props.customCategories], showCategoryModal: true });\n  }\n\n  handleCategoryChange(index, newName) {\n    this.setState(prevState => {\n      const updatedCategories = [...prevState.editingCategories];\n      updatedCategories[index] = newName;\n      return { editingCategories: updatedCategories };\n    });\n  }\n\n  handleDeleteCategory(index) {\n    const { editingCategories } = this.state;\n    const { menuItems } = this.props;\n    const categoryToDelete = editingCategories[index];\n    const categoryInUse = menuItems.some(item => item.category === categoryToDelete);\n    if (categoryInUse) {\n      alert('Tuto kategorii nelze smazat, protože je používána v menu!');\n      return;\n    }\n    this.setState(prevState => ({\n      editingCategories: prevState.editingCategories.filter((_, i) => i !== index)\n    }));\n  }\n\n  handleSaveCategories() {\n    const { editingCategories } = this.state;\n    const { menuItems, setMenuItems, setCustomCategories } = this.props;\n\n    const uniqueCategories = new Set(editingCategories);\n    if (uniqueCategories.size !== editingCategories.length) {\n      alert('Kategorie nemohou mít stejný název!');\n      return;\n    }\n\n    const updatedMenuItems = menuItems.map(item => {\n      const oldCategory = item.category;\n      const newCategory = editingCategories.find(cat => cat === oldCategory);\n      return newCategory ? { ...item, category: newCategory } : item;\n    });\n    setMenuItems(updatedMenuItems);\n\n    setCustomCategories(editingCategories);\n    this.setState({ showCategoryModal: false });\n  }\n\n  getCategoryDisplayName(category) {\n    switch(category) {\n      case 'main':\n        return 'Hlavní jídlo';\n      case 'drink':\n        return 'Nápoj';\n      case 'dessert':\n        return 'Dezert';\n      default:\n        return category;\n    }\n  }\n\n  render() {\n    const { formData, editingId, deleteConfirmId, selectedCategory, newCategoryName, showCategoryForm, showCategoryModal, editingCategories } = this.state;\n    const { menuItems, customCategories } = this.props;\n\n    const visuallyHidden = {\n      position: 'absolute',\n      width: '1px',\n      height: '1px',\n      padding: 0,\n      margin: '-1px',\n      overflow: 'hidden',\n      clip: 'rect(0,0,0,0)',\n      border: 0,\n    };\n\n    const groupedMenuItems = this.getGroupedMenuItems();\n    const filteredMenuItems = this.getFilteredMenuItems();\n\n    return (\n      <div className=\"menu-management\" role=\"main\">\n        <h2>Správa menu</h2>\n\n        <div className=\"menu-form card\" ref={this.formRef} role=\"form\" aria-label={editingId ? 'Upravit položku menu' : 'Přidat novou položku do menu'}>\n          <h3>{editingId ? 'Upravit položku' : 'Přidat novou položku'}</h3>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"itemName\">Název:</label>\n              <input\n                type=\"text\"\n                id=\"itemName\"\n                name=\"name\"\n                value={formData.name}\n                onChange={this.handleInputChange}\n                required\n                aria-label=\"Název položky menu\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"itemPrice\">Cena:</label>\n              <input\n                type=\"number\"\n                id=\"itemPrice\"\n                name=\"price\"\n                value={formData.price}\n                onChange={this.handleInputChange}\n                required\n                step=\"0.01\"\n                aria-label=\"Cena položky v Kč\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"itemCategory\">Kategorie:</label>\n              <select\n                id=\"itemCategory\"\n                name=\"category\"\n                value={formData.category}\n                onChange={this.handleInputChange}\n                required\n                aria-label=\"Kategorie položky menu\"\n              >\n                <option value=\"main\">Hlavní jídlo</option>\n                <option value=\"drink\">Nápoj</option>\n                <option value=\"dessert\">Dezert</option>\n                {customCategories.map(category => (\n                  <option key={category} value={category}>{category}</option>\n                ))}\n              </select>\n            </div>\n\n            <button type=\"submit\" className=\"submit-btn\">\n              {editingId ? 'Uložit změny' : 'Přidat položku'}\n            </button>\n            {editingId && (\n              <button type=\"button\" className=\"cancel-btn\" onClick={() => this.setState({ editingId: null, formData: { name: '', price: '', category: 'main' } })}>\n                Zrušit úpravu\n              </button>\n            )}\n          </form>\n        </div>\n\n        <div className=\"menu-list card\">\n          <h3>Seznam položek</h3>\n\n          <div className=\"category-filter\">\n            <button\n              className={`category-btn ${selectedCategory === 'all' ? 'active' : ''}`}\n              onClick={() => this.setState({ selectedCategory: 'all' })}\n            >\n              Vše\n            </button>\n            {['main', 'drink', 'dessert'].map(category => (\n               <button\n                 key={category}\n                 className={`category-btn ${selectedCategory === category ? 'active' : ''}`}\n                 onClick={() => this.setState({ selectedCategory: category })}\n               >\n                 {this.getCategoryDisplayName(category)}\n               </button>\n            ))}\n            {customCategories.map(category => (\n               <button\n                 key={category}\n                 className={`category-btn ${selectedCategory === category ? 'active' : ''}`}\n                 onClick={() => this.setState({ selectedCategory: category })}\n               >\n                 {category}\n               </button>\n            ))}\n            <button\n               className=\"category-btn manage-categories-btn\"\n               onClick={this.openCategoryModal}\n             >\n               Spravovat kategorie\n             </button>\n          </div>\n\n          <ul className=\"menu-items\">\n            {filteredMenuItems.length === 0 ? (\n              <li className=\"empty-state\">Žádné položky k zobrazení</li>\n            ) : (\n              filteredMenuItems.map(item => (\n                <li key={item.id} className=\"menu-item\">\n                  <span>{item.name}</span>\n                  <span>{item.price} Kč</span>\n                  <div className=\"item-actions\">\n                    <button className=\"edit-btn\" onClick={() => this.editItem(item.id)}>Upravit</button>\n                    <button className=\"delete-btn\" onClick={() => this.requestDeleteItem(item.id)}>Smazat</button>\n                  </div>\n                </li>\n              ))\n            )}\n          </ul>\n        </div>\n\n        {deleteConfirmId && (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-content\">\n              <h3>Potvrdit smazání</h3>\n              <p>Opravdu chcete smazat tuto položku?</p>\n              <div className=\"modal-actions\">\n                <button className=\"delete-btn\" onClick={this.confirmDelete}>Smazat</button>\n                <button className=\"cancel-btn\" onClick={this.cancelDelete}>Zrušit</button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {showCategoryModal && (\n           <div className=\"modal-overlay\">\n             <div className=\"modal-content\">\n               <h3>Spravovat kategorie</h3>\n               <div className=\"categories-list\">\n                 {editingCategories.map((category, index) => (\n                   <div key={index} className=\"category-edit-item\">\n                     <input\n                       type=\"text\"\n                       value={category}\n                       onChange={(e) => this.handleCategoryChange(index, e.target.value)}\n                     />\n                     <button onClick={() => this.handleDeleteCategory(index)} className=\"delete-btn\">Smazat</button>\n                   </div>\n                 ))}\n                 <div className=\"category-edit-item\">\n                    <input\n                       type=\"text\"\n                       placeholder=\"Nová kategorie\"\n                       value={newCategoryName}\n                       onChange={(e) => this.setState({ newCategoryName: e.target.value })}\n                    />\n                    <button onClick={this.handleAddCategory} className=\"add-btn\">Přidat</button>\n                 </div>\n               </div>\n               <div className=\"modal-footer\">\n                 <button onClick={() => this.setState({ showCategoryModal: false, newCategoryName: '' })} className=\"cancel-btn\">Zrušit</button>\n                 <button onClick={this.handleSaveCategories} className=\"submit-btn\">Uložit změny</button>\n               </div>\n             </div>\n           </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MenuManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}