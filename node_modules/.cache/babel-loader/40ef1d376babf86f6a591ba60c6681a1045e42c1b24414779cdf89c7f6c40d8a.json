{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dinhp\\\\Desktop\\\\SIT\\\\KAJ\\\\src\\\\components\\\\OrderCard.jsx\";\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass OrderCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showStatusChange: false,\n      previousStatus: null\n    };\n    // Bind methods\n    this.handleStatusChange = this.handleStatusChange.bind(this);\n    this.handleRevertStatus = this.handleRevertStatus.bind(this);\n    this.getStatusInfo = this.getStatusInfo.bind(this); // Bind helper method\n  }\n  getStatusInfo(status) {\n    switch (status) {\n      case 'pending':\n        return {\n          text: 'Čeká na přípravu',\n          class: 'pending'\n        };\n      case 'ready':\n        return {\n          text: 'Připraveno\\nk platbě',\n          class: 'ready'\n        };\n      case 'paid':\n        return {\n          text: 'Zaplaceno',\n          class: 'paid'\n        };\n      default:\n        return {\n          text: status,\n          class: ''\n        };\n    }\n  }\n  handleStatusChange(newStatus) {\n    const {\n      updateStatus,\n      order\n    } = this.props;\n    this.setState({\n      previousStatus: order.status,\n      showStatusChange: true\n    });\n    updateStatus(order.id, newStatus);\n  }\n  handleRevertStatus() {\n    const {\n      updateStatus,\n      order\n    } = this.props;\n    const {\n      previousStatus\n    } = this.state;\n    if (previousStatus) {\n      updateStatus(order.id, previousStatus);\n      this.setState({\n        showStatusChange: false,\n        previousStatus: null\n      });\n    }\n  }\n  render() {\n    const {\n      order,\n      compact,\n      updateStatus\n    } = this.props;\n    const {\n      showStatusChange,\n      previousStatus\n    } = this.state;\n    const statusInfo = this.getStatusInfo(order.status);\n    const total = order.items.reduce((sum, item) => sum + item.price, 0);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `order-card ${compact ? 'compact' : ''}`,\n      role: \"article\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Objedn\\xE1vka #\", order.id.toString().slice(-4)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), !compact && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-info\",\n            role: \"status\",\n            children: order.tableName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-status\",\n          children: showStatusChange ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status-change\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status-badge ${statusInfo.class}`,\n              role: \"status\",\n              \"aria-label\": `Stav objednávky: ${statusInfo.text}`,\n              children: statusInfo.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"revert-btn\",\n              onClick: this.handleRevertStatus,\n              \"aria-label\": \"Vr\\xE1tit p\\u0159edchoz\\xED stav\",\n              children: \"\\u21A9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `status-badge ${statusInfo.class}`,\n            role: \"status\",\n            \"aria-label\": `Stav objednávky: ${statusInfo.text}`,\n            children: statusInfo.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-items\",\n        role: \"list\",\n        children: order.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-item\",\n          role: \"listitem\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            \"aria-label\": `${item.price} Kč`,\n            children: [item.price, \" K\\u010D\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-total\",\n          role: \"status\",\n          children: [\"Celkem: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            \"aria-label\": `Celková částka ${total} Kč`,\n            children: [total, \" K\\u010D\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), !compact && updateStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-actions\",\n          children: order.status === 'pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ready-btn\",\n            onClick: () => this.handleStatusChange('ready'),\n            \"aria-label\": \"Ozna\\u010Dit objedn\\xE1vku jako p\\u0159ipravenou\",\n            children: \"Ozna\\u010Dit jako p\\u0159ipraven\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default OrderCard;","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","OrderCard","Component","constructor","props","state","showStatusChange","previousStatus","handleStatusChange","bind","handleRevertStatus","getStatusInfo","status","text","class","newStatus","updateStatus","order","setState","id","render","compact","statusInfo","total","items","reduce","sum","item","price","className","role","children","toString","slice","fileName","_jsxFileName","lineNumber","columnNumber","tableName","onClick","map","index","name"],"sources":["C:/Users/dinhp/Desktop/SIT/KAJ/src/components/OrderCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nclass OrderCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showStatusChange: false,\n      previousStatus: null,\n    };\n    // Bind methods\n    this.handleStatusChange = this.handleStatusChange.bind(this);\n    this.handleRevertStatus = this.handleRevertStatus.bind(this);\n    this.getStatusInfo = this.getStatusInfo.bind(this); // Bind helper method\n  }\n\n  getStatusInfo(status) {\n    switch(status) {\n      case 'pending':\n        return { text: 'Čeká na přípravu', class: 'pending' };\n      case 'ready':\n        return { text: 'Připraveno\\nk platbě', class: 'ready' };\n      case 'paid':\n        return { text: 'Zaplaceno', class: 'paid' };\n      default:\n        return { text: status, class: '' };\n    }\n  }\n\n  handleStatusChange(newStatus) {\n    const { updateStatus, order } = this.props;\n    this.setState({ previousStatus: order.status, showStatusChange: true });\n    updateStatus(order.id, newStatus);\n  }\n\n  handleRevertStatus() {\n    const { updateStatus, order } = this.props;\n    const { previousStatus } = this.state;\n    if (previousStatus) {\n      updateStatus(order.id, previousStatus);\n      this.setState({ showStatusChange: false, previousStatus: null });\n    }\n  }\n\n  render() {\n    const { order, compact, updateStatus } = this.props;\n    const { showStatusChange, previousStatus } = this.state;\n\n    const statusInfo = this.getStatusInfo(order.status);\n    const total = order.items.reduce((sum, item) => sum + item.price, 0);\n\n    return (\n      <div className={`order-card ${compact ? 'compact' : ''}`} role=\"article\">\n        <div className=\"order-header\">\n          <div>\n            <h3>Objednávka #{order.id.toString().slice(-4)}</h3>\n            {!compact && <div className=\"table-info\" role=\"status\">{order.tableName}</div>}\n          </div>\n          <div className=\"order-status\">\n            {showStatusChange ? (\n              <div className=\"status-change\">\n                <span\n                  className={`status-badge ${statusInfo.class}`}\n                  role=\"status\"\n                  aria-label={`Stav objednávky: ${statusInfo.text}`}\n                >\n                  {statusInfo.text}\n                </span>\n                <button\n                  className=\"revert-btn\"\n                  onClick={this.handleRevertStatus}\n                  aria-label=\"Vrátit předchozí stav\"\n                >\n                  ↩\n                </button>\n              </div>\n            ) : (\n              <span\n                className={`status-badge ${statusInfo.class}`}\n                role=\"status\"\n                aria-label={`Stav objednávky: ${statusInfo.text}`}\n              >\n                {statusInfo.text}\n              </span>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"order-items\" role=\"list\">\n          {order.items.map((item, index) => (\n            <div key={index} className=\"order-item\" role=\"listitem\">\n              <span>{item.name}</span>\n              <span aria-label={`${item.price} Kč`}>{item.price} Kč</span>\n            </div>\n          ))}\n        </div>\n        \n        <div className=\"order-footer\">\n          <div className=\"order-total\" role=\"status\">\n            Celkem: <span aria-label={`Celková částka ${total} Kč`}>{total} Kč</span>\n          </div>\n          \n          {!compact && updateStatus && (\n            <div className=\"order-actions\">\n              {order.status === 'pending' && (\n                <button\n                  className=\"ready-btn\"\n                  onClick={() => this.handleStatusChange('ready')}\n                  aria-label=\"Označit objednávku jako připravenou\"\n                >\n                  Označit jako připravené\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OrderCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}